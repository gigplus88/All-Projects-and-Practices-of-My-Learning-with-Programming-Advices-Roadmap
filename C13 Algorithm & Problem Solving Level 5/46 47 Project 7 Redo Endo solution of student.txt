//نفس الفكرة ولكن بطريقة ابسط 

#pragma once
#include <iostream>
#include <stack>

using namespace std;

class clsMyString
{
	stack<string>_Undo;
	stack <string >_Redo;
	
public:
	void SetValue(string Val)
	{
		_Undo.push(Val);
	}
	string GetValue()
	{
		if (_Undo.size() == 0)
			return "";
		return _Undo.top();
	}
	_declspec(property(put = SetValue, get = GetValue))string  Value;

	void Undo()
	{
		_Redo.push(_Undo.top());
		_Undo.pop();
	}
	void Redo()
	{
		_Undo.push(_Redo.top());
		_Redo.pop();
	}
};