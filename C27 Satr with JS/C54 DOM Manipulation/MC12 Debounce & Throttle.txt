<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>classList Activity â€” Full Working Example</title>

    <style>
      * {
        box-sizing: border-box;
      }
    </style>
  </head>

  <body>
          <button id="btn">Click Me</button>
<input id="input" placeholder="Type here">

    


    </div>
    <script>

        const inpu = document.getElementById("input");

        
        function debounce(fn, delay) {
        let timer;
        return function (...args) {
          clearTimeout(timer); // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„Ø³Ø§Ø¨Ù‚ ÙˆØ§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯
          timer = setTimeout(() => fn.apply(this, args), delay);
        };


        const onSearch = debounce((value) => {
          console.log("Searching for:", value);
        }, 400);

        inpu.addEventListener("input", (e) => {
          onSearch(e.target.value);
        });





        function throttle(fn, interval) {
          let lastTime = 0;
          return function (...args) {
            const now = Date.now();
            if (now - lastTime >= interval) {
              lastTime = now;
              fn.apply(this, args);
            }
          };
        }


        window.addEventListener(
          "scroll",
          throttle(() => {
            console.log("Scroll handler");
          }, 300)
        );


        /*
          

            ğŸ’¡ Activity â€“ Solution
            ğŸ”¹ Live search â†’ Debounce
            ğŸ”¹ Scroll indicator â†’ Throttle
            ğŸ”¹ Save draft â†’ Debounce
            ğŸ”¹ Resize preview â†’ Throttle



            Explanation:
            
            ğŸ”¹ Live search â†’ Debounce
            ğŸ§  Why debounce is correct
            Live search fires events on every keystroke.

            If you search immediately:
            âŒ Too many API calls
            âŒ Server overload
            âŒ Wasted work (user still typing)

            ğŸ§  What users actually want:

            â€œSearch after I finish typingâ€
            What debounce does
            ğŸ”¹ Waits until typing stops
            ğŸ”¹ Runs search once
            ğŸ”¹ Prevents unnecessary calls

            ğŸ“Œ If the user types 10 characters:

            Debounce â†’ 1 request
            Throttle â†’ multiple requests (bad UX)
            â¡ï¸ Debounce matches user intent


            ğŸ”¹ Scroll indicator â†’ Throttle
            ğŸ§  Why throttle is correct
            Scroll indicators (progress bar, position marker):

            Must update while scrolling
            Need continuous feedback
            ğŸ§  What users expect:

            â€œShow me progress as I scrollâ€

            What throttle does
            ğŸ”¹ Allows updates at fixed intervals
            ğŸ”¹ Keeps UI responsive
            ğŸ”¹ Prevents event flooding

            ğŸ“Œ Debounce would:

            Update only after scrolling stops
            Feel broken or laggy
            â¡ï¸ Throttle preserves real-time feedback


            ğŸ”¹ Save draft â†’ Debounce
            ğŸ§  Why debounce is correct
            Auto-save triggers:

            On text input
            Often expensive (network / storage)
            ğŸ§  What users want:

            â€œSave after I pause typingâ€
            What debounce does
            ğŸ”¹ Saves only when user stops typing
            ğŸ”¹ Prevents excessive writes
            ğŸ”¹ Protects battery & bandwidth

            ğŸ“Œ Throttle would:

            Save repeatedly while typing
            Create unnecessary versions
            â¡ï¸ Debounce avoids waste


            ğŸ”¹ Resize preview â†’ Throttle
            ğŸ§  Why throttle is correct
            Resize preview:

            Must update during resizing
            Needs visual continuity
            ğŸ§  What users expect:

            â€œPreview changes as I resizeâ€
            What throttle does
            ğŸ”¹ Limits update rate
            ğŸ”¹ Keeps preview smooth
            ğŸ”¹ Prevents layout thrashing

            ğŸ“Œ Debounce would:

            Update only after resize ends
            Feel unresponsive
            â¡ï¸ Throttle balances performance and feedback


            ğŸ§  Final Mental Rule (Very Important)
            ğŸ§  Ask one key question:

            Do I want the final result, or continuous updates?
            ğŸ”¹ Final result â†’ Debounce
            ğŸ”¹ Continuous feedback â†’ Throttle

            This rule works almost everywhere.


            âš ï¸ Important!
            Using the wrong one doesnâ€™t just affect performance â€” it breaks user experience expectations.
        */

}
    </script>
  </body>
</html>
