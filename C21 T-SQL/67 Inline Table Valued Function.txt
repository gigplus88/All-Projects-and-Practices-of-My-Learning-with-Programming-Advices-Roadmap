CREATE FUNCTION dbo.GetStudentsBySubject
(
    @Subject NVARCHAR(50)
)
RETURNS TABLE
AS
RETURN
(
    SELECT *
    FROM Students
    WHERE Subject = @Subject
)



-- Execution



select * from dbo.GetStudentByFunction( 'Math')
select Avg(Grade) As Average from dbo.GetStudentByFunction( 'Math')