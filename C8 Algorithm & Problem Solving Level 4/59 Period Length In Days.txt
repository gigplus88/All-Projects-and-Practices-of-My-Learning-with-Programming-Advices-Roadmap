#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <iomanip>
#include <ctime>

#pragma warning (disable : 4996)

using namespace std;

struct sDate {

    short Year, Month, Day;
};

short ReadYear()
{
    int Year;

    cout << "Enter a year: ";
    cin >> Year;
    cout << "\n\n";
    return Year;
}

short ReadMonth()
{
    int Month;

    cout << "Enter a Month: ";
    cin >> Month;

    return Month;
}

short ReadDay()
{
    int Day;

    cout << "Enter a day: ";
    cin >> Day;

    return Day;
}
bool IsLeapYear(short Year)
{
    bool Num;

    return (Year % 400 == 0) || ((Year % 100 != 0) && (Year % 4 == 0));


}

short MonthToDays(short Year, short Month)
{

    if (Month < 1 || Month> 12)
    {
        return 0;
    }

    short NumberOfDays[12] = { 31 , 28 , 31 , 30 , 31 ,30 , 31 , 31 , 30 , 31 , 30 , 31 };
    return  (Month == 2) ? IsLeapYear(Year) ? 29 : 28 : NumberOfDays[Month - 1];

}

bool CheckIslessDate(sDate Date1, sDate Date2)
{
    return (Date1.Year < Date2.Year) ? true : ((Date1.Year == Date2.Year) ? (Date1.Month < Date2.Month) ? true : (Date1.Month == Date2.Month ? Date1.Day < Date2.Day : false) : false);
}

bool CheckIsLastDayInMonth(sDate Date)
{

    return  (Date.Day == MonthToDays(Date.Year, Date.Month));
}

bool CheckIsLastMonthInYear(sDate Date)
{

    return  (Date.Month == 12) ? true : false;
}


bool CheckAreEqualDate(sDate Date1, sDate Date2)
{
    return (Date1.Year == Date2.Year) ? ((Date1.Month == Date2.Month) ? ((Date1.Day == Date2.Day) ? true : false) : false) : false;

}


bool IsDate1AfterDate2(sDate Date1, sDate Date2)
{
    return !CheckIslessDate(Date1, Date2) && !CheckAreEqualDate( Date1,  Date2);

}
sDate IncreaseDateByOneDay(sDate Date)
{
    if (CheckIsLastDayInMonth(Date))
    {
        if (CheckIsLastMonthInYear(Date))
        {
            Date.Month = 1;
            Date.Day = 1;
            Date.Year++;
        }

        else
        {
            Date.Day = 1;
            Date.Month++;
        }
    }

    else
    {
        Date.Day++;
    }

    return Date;
}


struct stPeriod {

    sDate StartDate;
    sDate EndDate;

};

sDate ReadFullDate()
{
    sDate Date;
    Date.Day = ReadDay();
    Date.Month = ReadMonth();
    Date.Year = ReadYear();

    return Date;
}

stPeriod ReadPeriod()
{
    stPeriod Period;
    cout << "Enter Start Date:\n\n";
    Period.StartDate = ReadFullDate();

    cout << "Enter End Date:\n\n";
    Period.EndDate = ReadFullDate();

    return Period;
}

enum enCompareDate { Date1Before = -1 , Date1EqualDate2 = 0 , Date1After= 1};

enCompareDate ComparDates(sDate Date1,  sDate Date2) // Enum can give me number results;
{
    if (CheckIslessDate( Date1,  Date2))
    {
        return enCompareDate::Date1Before;
    }

    else if (CheckAreEqualDate(Date1, Date2))
    {
        return enCompareDate::Date1EqualDate2;

    }

    /*else
    {
        return enCompareDate::Date1After;
    }*/
   
    // It is Faster
    return enCompareDate::Date1After;

}

void SwapDates(sDate& Date1, sDate& Date2)
{
    sDate TempDate;

    TempDate.Day = Date1.Day;
    TempDate.Month = Date1.Month;
    TempDate.Year = Date1.Year;

    Date1.Day = Date2.Day;
    Date1.Month = Date2.Month;
    Date1.Year = Date2.Year;

    Date2.Day = TempDate.Day;
    Date2.Month = TempDate.Month;
    Date2.Year = TempDate.Year;

}

int DifferenceDays(sDate Date1, sDate Date2, bool includeEndDay = false)
{
    int Days = 0;
    short SwapFlagValue = 1;

    if (!CheckIslessDate(Date1, Date2))
    {
        SwapDates(Date1, Date2);
        SwapFlagValue = -1;
    }
    while (CheckIslessDate(Date1, Date2))
    {
        Days++;
        Date1 = IncreaseDateByOneDay(Date1);
    }

    return includeEndDay ? ++Days * SwapFlagValue : Days * SwapFlagValue;



}


short PeriodLengthInDays(stPeriod Period1 , bool includeEndDay = false)
{
    return      DifferenceDays(Period1.StartDate, Period1.EndDate , includeEndDay);
    
}

int main()

{
    cout << "Enter Period 1:" << endl;
    stPeriod Period1 = ReadPeriod();

    cout << "Period Length is: " << PeriodLengthInDays(Period1) << endl;
    cout << "Period Length is: " << PeriodLengthInDays(Period1, true);




   

    system("pause>0");
    return 0;
}